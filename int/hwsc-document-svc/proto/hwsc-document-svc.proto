syntax="proto3";

package hwscDocumentSvc;

import "document.proto";

option go_package="hwscDocumentSvcPb";

service DocumentService {
    rpc GetStatus (DocumentRequest) returns (DocumentResponse) {}
    rpc CreateDocument (DocumentRequest) returns (DocumentResponse) {}
    rpc ListUserDocumentCollection (DocumentRequest) returns (DocumentResponse) {}
    rpc UpdateDocument (DocumentRequest) returns (DocumentResponse) {}
    rpc DeleteDocument (DocumentRequest) returns (DocumentResponse) {}
    rpc AddFileMetadata (DocumentRequest) returns (DocumentResponse) {}
    rpc DeleteFileMetadata (DocumentRequest) returns (DocumentResponse) {}
    rpc ListDistinctFieldValues (DocumentRequest) returns (DocumentResponse) {}
    rpc QueryDocument (DocumentRequest) returns (DocumentResponse) {}
}


message DocumentRequest {
    hwsc.Document data = 1;
    enum FileType {
        FILE = 0;
        AUDIO = 1;
        IMAGE = 2;
        VIDEO = 3;
    }

    // For adding/deleting FileMetadata
    string url = 2;
    string fuid = 3;
    FileType media = 4;
    hwsc.QueryTransaction query_parameters = 5;
}

message DocumentResponse {
    oneof status { uint32 code = 1; }
    string message = 2;
    hwsc.Document data = 3;
    // Return for ListUserDocumentCollection && Query
    repeated hwsc.Document document_collection = 4;
    hwsc.QueryTransaction query_results = 5;
}
